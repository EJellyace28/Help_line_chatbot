{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Calm Companion - Find Your Peace{% endblock %}</title>
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Outfit', sans-serif !important;
            opacity: 0;
            animation: pageIn 0.15s ease forwards;
        }

        @keyframes pageIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes pageOut {
            from {
                opacity: 1;
            }

            to {
                opacity: 0;
            }
        }

        .page-exit {
            animation: pageOut 0.3s ease forwards;
        }
    </style>

    <!-- Main CSS -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    <!-- Extra CSS for specific pages -->
    {% block extra_css %}{% endblock %}
</head>

<body>
    <!-- Page content goes here -->
    {% block content %}{% endblock %}

    <!-- JavaScript Files -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/auth.js' %}"></script>

    <!-- Page Transition Script -->
    <script>
        function navigateTo(url) {
            document.body.classList.add('page-exit');
            setTimeout(() => { location.href = url; }, 300);
        }
        // Add transition to all internal links
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('a[href^="/"], a[href^="{% url "login" %}"], a[href^="{% url "register" %}"], a[href^="{% url "landing" %}"]').forEach(link => {
                link.addEventListener('click', function (e) {
                    if (!this.href.includes('#')) {
                        e.preventDefault();
                        navigateTo(this.href);
                    }
                });
            });
        });
    </script>

    <!-- Extra JS for specific pages -->
    {% block extra_js %}{% endblock %}
</body>

</html>